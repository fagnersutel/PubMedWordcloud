{"name":"Pubmedwordcloud","tagline":"","body":"# PubMed wordcloud\r\n\r\nExamples of how to create a word cloud using abstracts in PubMed\r\n\r\nupdated on Thu Oct 16 00:09:49 2014\r\n\r\n**PubMedWordcloud** is avaliable on [CRAN](http://cran.r-project.org/web/packages/PubMedWordcloud/index.html) and [GitHub](https://github.com/felixfan/PubMedWordcloud)     \r\n\r\n[More about me](http://felixfan.github.io)    \r\n\r\n\r\n```r\r\ninstall.packages(\"PubMedWordcloud\",dependencies=TRUE)\r\n```\r\n\r\nor     \r\n\r\n\r\n```r\r\nlibrary(devtools)\r\ninstall_github(\"felixfan/PubMedWordcloud\") # from GitHub\r\n```\r\n\r\n\r\n```r\r\nlibrary(PubMedWordcloud)  \r\n```\r\n\r\n1. wordcloud of my publications\r\n--------------------------------------\r\n### 1.1 retrieve PMIDs from PubMed\r\n\r\nSince my first paper was published in 2007, I will retrieve all PMIDs of my paper from 2007 to this year (2014). I used both 'Yan-Hui Fan' and 'Yanhui Fan' as my name, so I assigned PMIDs for these two names to 'pmid1' and 'pmid2', respectively.\r\n\r\n\r\n```r\r\npmid1=getPMIDs(author=\"Yan-Hui Fan\",dFrom=2007,dTo=2014,n=10)\r\npmid1\r\n```\r\n\r\n[1] \"24935264\" \"24721834\" \"22698742\" \"22693232\" \"22564732\" \"22301463\"     \r\n[7] \"22015308\" \"21283797\"\r\n\r\n```r\r\npmid2=getPMIDs(author=\"Yanhui Fan\",dFrom=2007,dTo=2014,n=10)\r\npmid2\r\n```\r\n\r\n[1] \"24890309\" \"20576513\" \"19412437\"\r\n\r\nThere are eight PMIDs in 'pmid1' and three PMIDs in 'pmid2'. \r\n\r\n### 1.2 edit PMIDs\r\n\r\nNote that 'pmid1' and 'pmid2' are vectors, so it is easy to add or delete PMIDs to 'pmid1' and 'pmid2', or combine them. I also write a function to do it, in case you do not want to find out how to do it.   \r\n\r\nPMID \"22698742\" in 'pmid1' and \"20576513\" in 'pmid2' are published by others (have the same name with me). So I want to exclude them and then combine 'pmid1' and 'pmid2'.   \r\n\r\n\r\n```r\r\nrm1=\"22698742\"\r\npmids1=editPMIDs(x=pmid1,y=rm1,method=\"exclude\")\r\n\r\nrm2=\"20576513\"\r\npmids2=editPMIDs(x=pmid2,y=rm2,method=\"exclude\")\r\n\r\npmids=editPMIDs(x=pmids1,y=pmids2,method=\"add\")\r\n```\r\n\r\n**Note: only unique PMIDs were kept**\r\n\r\n### 1.3 download abstracts\r\n\r\n\r\n```r\r\nabstracts=getAbstracts(pmids)\r\n```\r\n\r\n### 1.4 clean abstracts\r\n\r\nclean data using paackage {tm}: remove Punctuations, remove Numbers, Translate characters to lower or upper case, remove stopwords, remove user specified words, Stemming words.   \r\n\r\n\r\n```r\r\ncleanAbs=cleanAbstracts(abstracts)\r\n```\r\n\r\n### 1.5 plot wordcloud using 'plotWordCloud'\r\n\r\nPlot  withdafault parameters   \r\n\r\n```r\r\nplotWordCloud(cleanAbs,min.freq = 2, scale = c(2, 0.3))\r\n```\r\n\r\n![](/figure/unnamed-chunk-8-1.png) \r\n\r\nDo not rotate words.  \r\n\r\n```r\r\nplotWordCloud(cleanAbs,min.freq = 2, scale = c(2, 0.3),rot.per=0)\r\n```\r\n\r\n![](/figure/unnamed-chunk-9-1.png) \r\n\r\nPlot using other colors.\r\n\r\n```r\r\ncolors=colSets(type=\"Paired\")\r\nplotWordCloud(cleanAbs,min.freq = 2, scale = c(2, 0.3),colors=colors)\r\n```\r\n\r\n![](/figure/unnamed-chunk-10-1.png) \r\n\r\nClean the data with Stemming words is TRUE and plot again.   \r\n\r\n```r\r\ncleanAbs2=cleanAbstracts(abstracts,stemDoc =TRUE)\r\nplotWordCloud(cleanAbs2,min.freq = 2, scale = c(2, 0.3))\r\n```\r\n\r\n![](/figure/unnamed-chunk-11-1.png) \r\n\r\n**Note: ** 'plotWordCloud' uasually will generate a lot of warnings. Many words could not be fit on page. try to adjust the scale parameter, using smaller value may remove these warnings.    \r\n\r\n4. References\r\n-----------------\r\n[Shiny Pubmed Word Clouds](http://www.vesnam.com/Rblog/pubmedwordcloud/)    \r\n[wordcloud](http://cran.r-project.org/web/packages/wordcloud/index.html)   \r\n[GOsummaries: Word cloud summaries of GO enrichment analysis](http://cran.r-project.org/web/packages/GOsummaries/index.html)   \r\n[How I used R to create a word cloud, step by step](http://georeferenced.wordpress.com/2013/01/15/rwordcloud/)   \r\n[NCBI](http://www.ncbi.nlm.nih.gov/books/NBK25500/)   \r\n\r\n\r\n\r\n","google":"UA-44240871-1","note":"Don't delete this file! It's used internally to help with page regeneration."}